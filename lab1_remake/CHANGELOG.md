# Changelog

–í—Å–µ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø—Ä–æ–µ–∫—Ç–µ Theater Management System.

## [2.0.0] - 2025-02-23

### ‚ú® –î–æ–±–∞–≤–ª–µ–Ω–æ

#### –°–∏—Å—Ç–µ–º–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ù–æ–≤—ã–π –º–æ–¥—É–ª—å `serialization.py` —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º `Serializer`
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —á–µ—Ä–µ–∑ `__type__` –∞—Ç—Ä–∏–±—É—Ç –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–π –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä `@serializable` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–æ–≤
- –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ `StaffType` –∏ `ActionType`

#### –¢–∏–ø–∏–∑–∞—Ü–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω –∞—Ç—Ä–∏–±—É—Ç `__type__` –≤–æ –≤—Å–µ –∫–ª–∞—Å—Å—ã:
  - `Person`, `Staff`, `Actor`, `Director`, `CostumeDesigner`
  - `Action`, `Setting`, `Repetition`
  - `Seat`, `Ticket`, `AuditoryHall`, `Stage`, `Costume`, `CostumeRoom`
  - `Theater`
  - `StaffManager`, `HallManager`, `PerformanceManager`, `TicketManager`, `ResourceManager`

#### –¢–µ—Å—Ç—ã
- 8 –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Å–∏—Å—Ç–µ–º—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –¢–µ—Å—Ç—ã –Ω–∞ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª (—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è)
- –¢–µ—Å—Ç—ã –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫—É –∏–∑ —Ñ–∞–π–ª–∞
- –¢–µ—Å—Ç –Ω–∞ —Å–ª–æ–∂–Ω—ã–π –æ–±—ä–µ–∫—Ç Theater —Å –ø—Ä–æ–¥–∞–Ω–Ω—ã–º–∏ –±–∏–ª–µ—Ç–∞–º–∏
- –ò—Ç–æ–≥–æ: **36 —Ç–µ—Å—Ç–æ–≤** (100% –ø–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞)

#### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/SERIALIZATION_GUIDE.md` ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π `README.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –≠—Ç–æ—Ç `CHANGELOG.md`

### üîß –ò–∑–º–µ–Ω–µ–Ω–æ

#### –£–ª—É—á—à–µ–Ω–∏—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- **–ù–µ–Ω–∞–¥—ë–∂–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞** (–ø–æ –Ω–∞–ª–∏—á–∏—é –ø–æ–ª–µ–π) ‚Üí **—è–≤–Ω—ã–π `__type__`**
- `StaffManager.from_dict()` —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `__type__` –≤–º–µ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–µ–π
- –í—Å–µ `to_dict()` –º–µ—Ç–æ–¥—ã –¥–æ–±–∞–≤–ª—è—é—Ç `__type__` –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –í—Å–µ `from_dict()` –º–µ—Ç–æ–¥—ã —á–∏—Ç–∞—é—Ç `__type__` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

#### –£–ª—É—á—à–µ–Ω–∏—è –∫–æ–¥–∞
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `bare except` –≤ `Action.from_dict()` ‚Üí –ª–æ–≤–∏—Ç `ValueError`, `KeyError`
- –î–æ–±–∞–≤–ª–µ–Ω—ã type hints –¥–ª—è –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ `Setting`, `Repetition`
- –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lab1_remake/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ serialization.py    # –ù–û–í–´–ô –º–æ–¥—É–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ theater.py          # –û–±–Ω–æ–≤–ª—ë–Ω (__type__)
‚îÇ   ‚îú‚îÄ‚îÄ staff.py            # –û–±–Ω–æ–≤–ª—ë–Ω (__type__, StaffType)
‚îÇ   ‚îú‚îÄ‚îÄ managers.py         # –û–±–Ω–æ–≤–ª—ë–Ω (__type__)
‚îÇ   ‚îú‚îÄ‚îÄ exception.py
‚îÇ   ‚îú‚îÄ‚îÄ main_menu.py
‚îÇ   ‚îî‚îÄ‚îÄ __init__.py         # –û–±–Ω–æ–≤–ª—ë–Ω (—ç–∫—Å–ø–æ—Ä—Ç serialization)
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ test_theater.py     # –û–±–Ω–æ–≤–ª—ë–Ω (+8 —Ç–µ—Å—Ç–æ–≤)
‚îú‚îÄ‚îÄ docs/
‚îÇ   ‚îú‚îÄ‚îÄ SERIALIZATION_GUIDE.md  # –ù–û–í–´–ô
‚îÇ   ‚îú‚îÄ‚îÄ class_diagram.puml
‚îÇ   ‚îî‚îÄ‚îÄ state_diagram.puml
‚îú‚îÄ‚îÄ CHANGELOG.md            # –ù–û–í–´–ô
‚îî‚îÄ‚îÄ README.md               # –û–±–Ω–æ–≤–ª—ë–Ω
```

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

1. **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å** ‚Äî —è–≤–Ω–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –≤–º–µ—Å—Ç–æ —ç–≤—Ä–∏—Å—Ç–∏–∫
2. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** ‚Äî –ø—Ä–æ—Å—Ç–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤
3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ø–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å** ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** ‚Äî –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ –º–∏–≥—Ä–∞—Ü–∏—é

### ‚ö†Ô∏è Breaking Changes

- **–°—Ç–∞—Ä—ã–µ JSON-—Ñ–∞–π–ª—ã** –±–µ–∑ `__type__` **–Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã** —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π
- –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
- –î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Å–º. [docs/SERIALIZATION_GUIDE.md](docs/SERIALIZATION_GUIDE.md#–ú–∏–≥—Ä–∞—Ü–∏—è-—Å–æ-—Å—Ç–∞—Ä–æ–π-–≤–µ—Ä—Å–∏–∏)

### üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
venv/bin/python -m pytest tests/ -v

# –¢–æ–ª—å–∫–æ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
venv/bin/python -m pytest tests/test_theater.py::TestSerialization -v

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
venv/bin/python -m pytest tests/ --cov=src -v
```

### üìñ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from src.serialization import Serializer, register_builtin_types
from src.theater import Theater

# –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ç–∏–ø–æ–≤ (–æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ)
register_builtin_types()

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
theater = Theater("Grand Theater")
Serializer.save_to_file(theater, "theater.json")

# –ó–∞–≥—Ä—É–∑–∫–∞
loaded = Serializer.load_from_file("theater.json")
```

---

## [1.0.0] - 2024-XX-XX

### –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

- –ë–∞–∑–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∞—Ç—Ä–æ–º
- CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ `to_dict()` / `from_dict()`
- –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã

---

## –í–µ—Ä—Å–∏–∏

- **2.0.0** ‚Äî –°–∏—Å—Ç–µ–º–∞ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å `__type__` (—Ç–µ–∫—É—â–∞—è)
- **1.0.0** ‚Äî –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
